start:
	say "ğŸš¨ **Les dÃ©placements sont interdits** ğŸš¨, pendant 15 jours, Ã  compter du mardi 17 mars 2020 Ã  midi, sauf dans certains cas et Ã  condition d'Ãªtre munis d'une attestation dÃ©rogatoire"
	say Typing(3000)
  say "Souhaitez-vous que nous vous gÃ©nÃ©rions automatiquement votre **attestation dÃ©rogatoire** ğŸ“‘ğŸ“² ? "
  say Typing(3000)
	say "ğŸš¨ Attention ğŸš¨Selon les derniÃ¨res informations du MinistÃ¨re de l'IntÃ©rieur, toute attestation ne sera valide que si elle est **imprimÃ©e** ğŸ–¨ ou **rÃ©digÃ©e sur papier libre**. ğŸ“‘ "
	say Typing(2000)
  say Question(buttons=[
			Button("GÃ©nÃ©rer une attestation ğŸ“‘", accepts=["oui", "si", "ok", "d'accord", "yes", "Ã§a marche","c'est parti", "C'est parti", "attestation", "gÃ©nÃ©rer", "generer attestation", "generer une attestation"]) as yesbtn, 
			Button("ConnaÃ®tre les rÃ¨gles ğŸ‘®â€â™€ï¸", accepts=["les rÃ¨gles", "rÃ¨gles", "info", "no", "non", "non merci", "nope", "ca ira", "Ã§a ira"]) as nobtn,
		]
	)
	hold

	if (event match yesbtn) {
    say "**Important**: Je dois vous demander certaines **informations personnelles** pour remplir l'attestation. Ces donnÃ©es seront utilisÃ©es **uniquement pour remplir cette attestation**, et je les **supprime chaque jour** de ma mÃ©moire ğŸ¤– !"
		say Question(buttons=[
        Button("Ok", accepts=["go l'escargot", "go", "oui", "si", "ok", "d'accord", "yes", "Ã§a marche","c'est parti", "C'est parti"]) as gobtn, 
        Button("Non merci", accepts=["no", "non", "non merci", "nope"]) as nogobtn,
      ]
    )
    hold
    if (event match gobtn) {
		say "C'est parti ğŸ”¥"
      goto name
    }
    else {
      goto rappelcas
    }
	}
	else {
    goto rappelcas
	}

name:
  say Typing(2000)
	say "Pourriez-vous Ã©crire votre **Nom** et **PrÃ©nom** ?"
	hold
	remember name = event
	say Typing(2000)
  say "Parfait, il me faut Ã©galement votre **date de naissance** s'il vous plait (JJ/MM/AAAA)."
	hold
	remember birthdate = event
	say Typing(2000)
  say "Quelle est **l'adresse** de votre domicile actuel (adresse, CP, ville) ?"
	hold
	remember address = event
	say Typing(2000)
  say "Quelle est la raison de votre sortie ?"
	say Button("ğŸ‘¨â€ğŸ’» Raison professionnelle") as pro
	say Button("ğŸ› Achats de premiÃ¨re nÃ©cessitÃ©") as food
	say Button("ğŸ‘©â€âš•ï¸ Motif de santÃ©") as health
	say Button("ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Aide aux proches") as help
	say Button("â›¹ï¸â€â™‚ï¸ Courte sortie (sport, animal, ...)") as quick
	hold
	if (event match pro) remember reason = "job"
	else if (event match food) remember reason = "food"
	else if (event match health) remember reason = "health"
	else if (event match help) remember reason = "help"
	else if (event match quick) remember reason = "quick"
	else remember reason = "other"
	say "Parfait, et enfin dans quelle **ville** vous trouvez-vous en ce moment ?"
	hold
	remember location = event
	say Typing(2000)
  say "Ok, donnez-moi quelques secondes pour prÃ©parer le document..."
	do Fn(
		"covid_deplacements_pdf_form",
		name=name,
		birthdate=birthdate,
		address=address,
		reason=reason,
		location=location,
		sigSize=45,
		sigX=300) as filledPdf
	say "C'est bon âœ…, j'ai gÃ©nÃ©rÃ© votre dÃ©rogation ğŸ˜Š !
	ğŸ‘‰  **[afficher mon attestation]({{filledPdf}})**"
	//say "C'est bon âœ…, j'ai gÃ©nÃ©rÃ© votre dÃ©rogation ğŸ˜Š !"
	//say Url(url=filledPdf, text="Attestation de dÃ©placement dÃ©rogatoire")
  
  goto rappelcas
  
  rappelcas:
  say Typing(2000)
	say "Attention, pour rappel, seules les sorties dans les cas suivants sont autorisÃ©es, sous peine **d'amende** ğŸ‘®â€â™€ï¸"
  say Typing(3000)
  say "- ğŸ‘¨â€ğŸ’» Se dÃ©placer de son domicile Ã  son lieu de travail dÃ¨s lors que le tÃ©lÃ©travail nâ€™est pas possible.
	- ğŸ› Faire ses achats de premiÃ¨re nÃ©cessitÃ© dans les commerces de proximitÃ© autorisÃ©s.
	- ğŸ‘©â€âš•ï¸ Se rendre auprÃ¨s dâ€™un professionnel de santÃ©.
	- ğŸ‘¶ Se dÃ©placer pour la garde de ses enfants ou pour aider les personnes vulnÃ©rables Ã  la stricte condition de respecter les gestes barriÃ¨res.
	- â›¹ï¸â€â™‚ï¸ Faire de lâ€™exercice physique uniquement Ã  titre individuel, autour du domicile et sans aucun rassemblement."
	say Typing(4000)
	say "Les infractions Ã  ces rÃ¨gles sont sanctionnÃ©es dâ€™une amende de **135 â‚¬** et qui pourra Ãªtre portÃ©e Ã  **375 â‚¬**."
	say Typing(3000)
	say "ğŸš¨ Attention ğŸš¨Selon les derniÃ¨res informations du gouvernement, toutte atestation pour Ãªtre valide doit Ãªtre imprimÃ©e ğŸ–¨ ou rÃ©digÃ©e sur papier libre.ğŸ“‘ "
	say Typing(3000)
	say "Vous pouvez Ã©galement tÃ©lÃ©charger les modÃ¨les d'attestation vierges en cliquant ci-dessous "
	say Typing(3000)
	say Url("https://www.interieur.gouv.fr/content/download/121684/977026/file/attestation_de_deplacement_derogatoire.pdf",
		text="Attestation de dÃ©placement dÃ©rogatoire",
		title="Attestation de dÃ©placement dÃ©rogatoire")
	say Url("https://www.interieur.gouv.fr/content/download/121685/977031/file/justificatif_de_deplacement_professionnel.pdf",
		text="Justificatif de dÃ©placement Professionnel",
		title="Justificatif de dÃ©placement Professionnel")
	goto end